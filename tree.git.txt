.gitignore
README.md
docs/ARCHITECTURE.md
docs/ENV.example
docs/_facts/git-files.txt
docs/_facts/tree.git.txt
eslint.config.mjs
next.config.ts
package-lock.json
package.json
postcss.config.mjs
prisma/migrations/20251021112034_init/migration.sql
prisma/migrations/20251021113815_nextauth_relations/migration.sql
prisma/migrations/20251023123003_forumthread_locked/migration.sql
prisma/migrations/20251024171008_chapter_add_author_nullable/migration.sql
prisma/migrations/20251029103625_notifications_refactor/migration.sql
prisma/migrations/20251030100022_add_book_follow/migration.sql
prisma/migrations/20251103082750_sprint_1_6_chapter_posts_and_status/migration.sql
prisma/migrations/20251106092310_profile_move_username_and_timestamps/migration.sql
prisma/migrations/20251106101035_/migration.sql
prisma/migrations/20251208093412_add_chapter_content_html/migration.sql
prisma/migrations/20251223135824_auth_email_codes/migration.sql
prisma/migrations/20251229091718_character_applications/migration.sql
prisma/migrations/20260102163804_forum_category_acl_flags/migration.sql
prisma/migrations/20260116113415_economy_shop_rep_mvp/migration.sql
prisma/migrations/20260116140807_chapter_completed_at/migration.sql
prisma/migrations/migration_lock.toml
prisma/schema.prisma
prisma/src/generated/prisma/client.d.ts
prisma/src/generated/prisma/client.js
prisma/src/generated/prisma/default.d.ts
prisma/src/generated/prisma/default.js
prisma/src/generated/prisma/edge.d.ts
prisma/src/generated/prisma/edge.js
prisma/src/generated/prisma/index-browser.js
prisma/src/generated/prisma/index.d.ts
prisma/src/generated/prisma/index.js
prisma/src/generated/prisma/libquery_engine-darwin-arm64.dylib.node
prisma/src/generated/prisma/package.json
prisma/src/generated/prisma/query_engine_bg.js
prisma/src/generated/prisma/query_engine_bg.wasm
prisma/src/generated/prisma/runtime/edge-esm.js
prisma/src/generated/prisma/runtime/edge.js
prisma/src/generated/prisma/runtime/index-browser.d.ts
prisma/src/generated/prisma/runtime/index-browser.js
prisma/src/generated/prisma/runtime/library.d.ts
prisma/src/generated/prisma/runtime/library.js
prisma/src/generated/prisma/runtime/react-native.js
prisma/src/generated/prisma/runtime/wasm-compiler-edge.js
prisma/src/generated/prisma/runtime/wasm-engine-edge.js
prisma/src/generated/prisma/schema.prisma
prisma/src/generated/prisma/wasm-edge-light-loader.mjs
prisma/src/generated/prisma/wasm-worker-loader.mjs
prisma/src/generated/prisma/wasm.d.ts
prisma/src/generated/prisma/wasm.js
project_structure.txt
public/default-avatar.svg
public/file.svg
public/globe.svg
public/next.svg
public/vercel.svg
public/window.svg
scripts/migrate-content-html.ts
scripts/seed-forum-categories.ts
scripts/seed-shop.ts
scripts/snapshot.sh]
src/app/(protected)/books/[slug]/[index]/page.tsx
src/app/(protected)/books/[slug]/page.tsx
src/app/(protected)/books/page.tsx
src/app/(protected)/layout.tsx
src/app/BrandMark.tsx
src/app/HeaderClient.tsx
src/app/TopNavClient.tsx
src/app/admin/characters/[id]/page.tsx
src/app/admin/characters/page.tsx
src/app/api/admin/characters/[id]/review/route.ts
src/app/api/admin/characters/[id]/route.ts
src/app/api/admin/characters/route.ts
src/app/api/admin/outbox/drain/route.ts
src/app/api/auth/[...nextauth]/route.ts
src/app/api/auth/forgot-password/route.ts
src/app/api/auth/resend-code/route.ts
src/app/api/auth/reset-password/route.ts
src/app/api/auth/verify-email/route.ts
src/app/api/books/[slug]/[index]/posts/[postId]/like/route.ts
src/app/api/books/[slug]/[index]/posts/[postId]/reputation/route.ts
src/app/api/books/[slug]/[index]/posts/[postId]/route.ts
src/app/api/books/[slug]/[index]/posts/route.ts
src/app/api/books/[slug]/[index]/publish/route.ts
src/app/api/books/[slug]/[index]/route.ts
src/app/api/books/[slug]/chapters/[id]/close/route.ts
src/app/api/books/[slug]/chapters/[id]/open/route.ts
src/app/api/books/[slug]/chapters/[id]/posts/route.ts
src/app/api/books/[slug]/chapters/[id]/route.ts
src/app/api/books/[slug]/chapters/route.ts
src/app/api/books/[slug]/collaborators/route.ts
src/app/api/books/[slug]/follow/route.ts
src/app/api/books/[slug]/route.ts
src/app/api/books/route.ts
src/app/api/characters/[id]/route.ts
src/app/api/characters/[id]/submit/route.ts
src/app/api/characters/route.ts
src/app/api/debug/session/route.ts
src/app/api/events/stream/route.ts
src/app/api/forum/categories/[category]/threads/[slug]/posts/route.ts
src/app/api/forum/categories/[category]/threads/[slug]/route.ts
src/app/api/forum/categories/[category]/threads/route.ts
src/app/api/forum/categories/route.ts
src/app/api/forum/posts/[id]/route.ts
src/app/api/lock/route.ts
src/app/api/notifications/count/route.ts
src/app/api/notifications/mark-read/route.ts
src/app/api/notifications/route.ts
src/app/api/notifications/unread-count/route.ts
src/app/api/profile/[username]/route.ts
src/app/api/profile/route.ts
src/app/api/shop/buy/route.ts
src/app/api/shop/route.ts
src/app/api/signup/route.ts
src/app/api/upload/avatar/route.ts
src/app/api/uploads/images/route.ts
src/app/api/world/shop/buy/route.ts
src/app/api/world/shop/route.ts
src/app/archive/systems/mechanics/page.tsx
src/app/characters/[id]/page.tsx
src/app/characters/page.tsx
src/app/favicon.ico
src/app/forgot-password/page.tsx
src/app/forum/[category]/[slug]/page.tsx
src/app/forum/[category]/page.tsx
src/app/forum/page.tsx
src/app/globals.css
src/app/layout.tsx
src/app/login/page.tsx
src/app/me/page.tsx
src/app/notifications/page.tsx
src/app/page.tsx
src/app/players/page.tsx
src/app/profile/ProfileForm.tsx
src/app/profile/page.tsx
src/app/providers.tsx
src/app/reset-password/page.tsx
src/app/settings/profile/page.tsx
src/app/signup/page.tsx
src/app/u/[username]/inventory/page.tsx
src/app/u/[username]/page.tsx
src/app/verify-email/page.tsx
src/app/world/news/devlog/page.tsx
src/app/world/news/page.tsx
src/app/world/news/players/page.tsx
src/app/world/news/public/page.tsx
src/app/world/page.tsx
src/app/world/shop/page.tsx
src/app/world/shop/shop-client.tsx
src/app/world/systems/faq/page.tsx
src/app/world/systems/mechanics/page.tsx
src/app/world/systems/page.tsx
src/app/world/systems/rules/page.tsx
src/app/world/world/factions/page.tsx
src/app/world/world/locations/page.tsx
src/app/world/world/lore/page.tsx
src/app/world/world/map/page.tsx
src/app/world/world/page.tsx
src/app/world/world/timeline/page.tsx
src/components/BooksLiveClient.tsx
src/components/ChapterEditorClient.tsx
src/components/ChapterLiveClient.tsx
src/components/ChapterStatusBadge.tsx
src/components/ChapterStatusToggleButton.tsx
src/components/ChaptersLiveClient.tsx
src/components/ClearAllButton.tsx
src/components/CollapsibleSection.tsx
src/components/ConfirmSubmitButton.tsx
src/components/MarkAllReadButton.tsx
src/components/MarkReadButton.tsx
src/components/Markdown.tsx
src/components/NotificationBell.tsx
src/components/ReplyFormClient.tsx
src/components/RichChapterEditorClient.tsx
src/components/ThreadLiveClient.tsx
src/components/UserBadge.tsx
src/components/UserMenu.tsx
src/components/book/BookActionsMenu.tsx
src/components/chapter/ChapterActionsMenu.tsx
src/components/chapter/ChapterComposer.tsx
src/components/chapter/ChapterIntroClient.tsx
src/components/chapter/ChapterPostItem.tsx
src/components/chapter/ChapterPostList.tsx
src/components/editor/RichPostEditor.tsx
src/components/editor/RichPostViewer.tsx
src/components/follow/FollowBookButton.tsx
src/components/ui/IconButton.tsx
src/hooks/useEventStream.ts
src/hooks/useNotificationsFeed.ts
src/hooks/useRealtime.ts
src/lib/TimeAgo.ts
src/lib/apiClient.ts
src/lib/format.ts
src/lib/notifyUnread.ts
src/lib/readingTime.ts
src/lib/richEditorConfig.ts
src/lib/slug.ts
src/middleware.ts
src/server/access.ts
src/server/admin.ts
src/server/auth.ts
src/server/contracts.ts
src/server/contracts/forum.ts
src/server/db.ts
src/server/dto.ts
src/server/events.ts
src/server/events/types.ts
src/server/follow.ts
src/server/forumAcl.ts
src/server/fragments.ts
src/server/http.ts
src/server/notify/emit.ts
src/server/notify/publish.ts
src/server/notify/queue.ts
src/server/notify/recipients.ts
src/server/notify/types.ts
src/server/player.ts
src/server/r2.ts
src/server/redis.ts
src/server/render/sanitizeHtml.ts
src/server/repos/chapters.ts
src/server/repos/forum.ts
src/server/schemas.ts
src/server/serialize.ts
src/server/services/books.ts
src/server/services/chapters.ts
src/server/services/notifications.ts
src/server/sessionUserId.ts
src/server/ssrFetch.ts
src/types/next-auth.d.ts
tree.txt
tsconfig.json
